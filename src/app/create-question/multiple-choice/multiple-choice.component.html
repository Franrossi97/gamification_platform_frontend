<div class="row">
  <div class="col-md-12" style="margin: -0.8rem 0 1rem 0;">
    <button class="btn btn-secondary" (click)="onBack()">
      <fa-icon [icon]="backIcon"></fa-icon>
      Volver
    </button>
  </div>
</div>

<div class="row">
  <div class="col-md-10">

    <div class="row">
      <div class="col-md-4 left-text">
        Ingrese los datos para crear la nueva pregunta
      </div>

      <div class="col-md-8">
        <div class="form-element">
          <form class="form-question" [formGroup]="newQuestionForm" #fform="ngForm" id="questionForm">
              <div class="row">

                <div class="col-md-5">
                  <label class="input-title">Pregunta:</label>
                </div>

                <div class="col-md-7">
                  <textarea type="text" class="form-input" formControlName="question" placeholder="¿Qué es un bit?" maxlength="100" rows="3"></textarea>
                  <span class="alert-valid" *ngIf="newQuestionForm.get('question').touched && newQuestionForm.get('question').invalid">Ingrese una pregunta válida.</span>
                </div>

              </div>

              <div class="row top-space">
                <input type="checkbox" formControlName="difficult">
                <label class="input-title">¿Pregunta difícil?</label>
              </div>

              <div class="row top-space">
                <div class="col-md-5">
                  <label class="input-title">Tiempo (seg):</label>
                </div>

                <div class="col-md-7">
                  <input type="number" class="form-input" formControlName="time" min="0">
                  <span class="alert-valid" *ngIf="newQuestionForm.get('time').touched && newQuestionForm.get('time').invalid">Ingrese una valor válido.</span>
                </div>
              </div>

              <div class="row top-space">
                <div class="col-md-5">
                  <label class="input-title">Recompensa (monedas):</label>
                </div>

                <div class="col-md-7">
                  <input type="number" class="form-input" formControlName="coins" min="0">
                  <span class="alert-valid" *ngIf="newQuestionForm.get('coins').touched && newQuestionForm.get('coins').invalid">Ingrese una valor válido.</span>
                </div>
              </div>

              <!--
              <div class="row top-space">

                <div class="col-md-5">
                  <label class="input-title">Aporte al puntaje total (%):</label>
                </div>

                <div class="col-md-7">
                  <input type="number" class="form-input" formControlName="score" placeholder="25" min="0">
                  <span class="alert-valid" *ngIf="newQuestionForm.get('score').touched && newQuestionForm.get('score').invalid">Ingrese un porcentaje válido.</span>
                </div>

              </div>
              -->
          </form>
        </div>

        <div class="row form-element" style="margin-top: -0.7rem;">
          <form class="form-question" [formGroup]="newOptionsForm" (ngSubmit)="onSubmitQuestion()" id="optionForm">
            <div class="title" style="margin-top: -1.6rem;">
              Opciones - la cantidad de preguntas siempre es cuatro:
            </div>

            <div class="row" formGroupName="option1">
              <div class="col-md-4" style="margin-right: 12%;">
                <label class="input-title">Opcion 1:</label>
              </div>

              <div class="col-md-6 bigger">
                <textarea type="text" class="form-input" formControlName="text" placeholder="Opcion 1" ng-disabled="true" minlength='1' maxlength='75'></textarea>
              </div>

              <div class="col-md-2 smaller">
                <input type="number" class="form-input" formControlName="score" placeholder="25" min="0" max="100">
              </div>
            </div>

            <div class="row" formGroupName="option2">
              <div class="col-md-4" style="margin-right: 12%;">
                <label class="input-title">Opcion 2:</label>
              </div>

              <div class="col-md-6 bigger">
                <textarea type="text" class="form-input" formControlName="text" placeholder="Opcion 2" ng-disabled="true" minlength='1' maxlength='75'></textarea>
              </div>

              <div class="col-md-2 smaller">
                <input type="number" class="form-input" formControlName="score" placeholder="25" min="0" max="100">
              </div>
            </div>

            <div class="row" formGroupName="option3">
              <div class="col-md-4" style="margin-right: 12%;">
                <label class="input-title">Opcion 3:</label>
              </div>

              <div class="col-md-6 bigger">
                <textarea type="text" class="form-input" formControlName="text" placeholder="Opcion 3" ng-disabled="true" minlength='1' maxlength='75'></textarea>
              </div>

              <div class="col-md-2 smaller">
                <input type="number" class="form-input" formControlName="score" placeholder="25" min="0" max="100">
              </div>
            </div>

            <div class="row" formGroupName="option4">
              <div class="col-md-4" style="margin-right: 12%;">
                <label class="input-title">Opcion 4:</label>
              </div>

              <div class="col-md-6 bigger">
                <textarea type="text" class="form-input" formControlName="text" placeholder="Opcion 3" ng-disabled="true" minlength='1' maxlength='75'></textarea>
              </div>

              <div class="col-md-2 smaller">
                <input type="number" class="form-input" formControlName="score" placeholder="25" min="0" max="100">
              </div>

              <span class="alert-valid shorter"
                *ngIf="newOptionsForm.touched && newOptionsForm.errors && newOptionsForm.errors['checktot100']" style="width: 100%;">
                  Los valores deben sumar 100%
                </span>
                <span class="alert-valid shorter" *ngIf="
                (newOptionsForm.get('option1.text').touched && newOptionsForm.get('option1.text').invalid)
                || (newOptionsForm.get('option2.text').touched && newOptionsForm.get('option2.text').invalid)
                || (newOptionsForm.get('option3.text').touched && newOptionsForm.get('option3.text').invalid)
                || (newOptionsForm.get('option4.text').touched && newOptionsForm.get('option4.text').invalid)">
                  Debe ingresar una respuesta para cada opción
                </span>
            </div>

            <button class="btn btn-primary" style="margin-top: 2.6rem;" [disabled]='newQuestionForm.invalid || newOptionsForm.invalid' id="createquestion">
              Crear pregunta
            </button>
          </form>
        </div>

        <!--
        <form class="form-question" [formGroup]="newOptionsForm" (ngSubmit)="onSubmitQuestion()">
            <div class="row">
              <div class="title">
                Opciones:
              </div>

                <div class="row" formGroupName="option1">
                  <div class="col-md-4">
                    <label class="input-title">Opcion 1:</label>
                  </div>

                  <div class="col-md-7 bigger">
                    <input type="text" class="form-input" formControlName="text" placeholder="Opcion 1" ng-disabled="true" minlength='4' maxlength='75'>
                  </div>

                  <div class="col-md-1 smaller">
                    <input type="number" class="form-input" formControlName="score" placeholder="25" min="0" max="100">
                  </div>
                </div>

                <div class="row" formGroupName="option2">
                  <div class="col-md-4">
                    <label class="input-title">Opcion 2:</label>
                  </div>

                  <div class="col-md-7 bigger">
                    <input type="text" class="form-input" formControlName="text" placeholder="Opcion 2" minlength='4' maxlength='75'>
                  </div>

                  <div class="col-md-1">
                    <input type="number" class="form-input" formControlName="score" placeholder="25" min="0" max="100">
                  </div>
                </div>

                <div class="row" formGroupName="option3">
                  <div class="col-md-4">
                    <label class="input-title">Opcion 3:</label>
                  </div>

                  <div class="col-md-7 bigger">
                    <input type="text" class="form-input" formControlName="text" placeholder="Opcion 3" minlength='4' maxlength='75'>
                  </div>

                  <div class="col-md-1">
                    <input type="number" class="form-input"  formControlName="score" placeholder="25" min="0" max="100">
                  </div>
                </div>

                <div class="row" formGroupName="option4">
                  <div class="col-md-4">
                    <label class="input-title">Opcion 4:</label>
                  </div>

                  <div class="col-md-7 bigger">
                    <input type="text" class="form-input" formControlName="text" placeholder="Opcion 4" minlength='4' maxlength='75'>
                  </div>

                  <div class="col-md-1">
                    <input type="number" class="form-input"  formControlName="score" placeholder="25" min="0" max="100">
                  </div>
                </div>

                <span class="alert-valid shorter"
                *ngIf="newOptionsForm.touched && newOptionsForm.invalid" style="width: 100%;">
                  Los valores deben sumar 100
                </span>
                <span class="alert-valid shorter" *ngIf="
                (newOptionsForm.get('option1.text').touched && newOptionsForm.get('option1.text').invalid)
                || (newOptionsForm.get('option2.text').touched && newOptionsForm.get('option2.text').invalid)
                || (newOptionsForm.get('option3.text').touched && newOptionsForm.get('option3.text').invalid)
                || (newOptionsForm.get('option4.text').touched && newOptionsForm.get('option4.text').invalid)">
                  Debe ingresar una respuesta para cada opción
                </span>

            </div>
            <button class="btn btn-primary" style="margin-top: 2.6rem;" [disabled]='newQuestionForm.invalid || newOptionsForm.invalid'>
              Crear pregunta
            </button>
        </form>
        -->
      </div>
    </div>
  </div>
  <div class="col-md-2">&nbsp;</div>
</div>
